<!-- Settings Change password -->

<div class="modal-header settings-modal">
  <h4 class="modal-title pull-left">Change password</h4>
  <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body settings-modal">
  <div class="alert alert-danger" *ngIf="errorMessage">{{ errorMessage }}</div>

  <form [formGroup]="changePasswordForm" name="changePasswordForm">
    <div class="form-group" [ngClass]="{ 'has-error': changePasswordForm.controls['password'].invalid && changePasswordForm.controls['password'].touched }">
      <label for="password">New password:</label>
      <input type="password" id="password" class="form-control"
             formControlName="password" [formGroup]="changePasswordForm"
             [(ngModel)]="passwordModel.password"/>
      <div *ngIf="changePasswordForm.controls['password'].invalid && changePasswordForm.controls['password'].touched" class="help-block">
        This field is required
      </div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-error': changePasswordForm.controls['confirmPassword'].invalid && changePasswordForm.controls['confirmPassword'].touched }">
      <label for="confirmPassword">Conform Password:</label>
      <input type="password" class="form-control" id="confirmPassword"
             formControlName="confirmPassword" [formGroup]="changePasswordForm"
             [(ngModel)]="passwordModel.confirmPassword"/>
      <div *ngIf="changePasswordForm.controls['confirmPassword'].invalid && changePasswordForm.controls['confirmPassword'].touched" class="help-block">
        Password mismatch
      </div>
    </div>
    <div class="form-group">
      <button class="btn btn-primary" [disabled]="changePasswordForm.invalid" (click)="changePassword()">Save</button>
      <button type="button" class="btn btn-default" (click)="bsModalRef.hide()">Close</button>
    </div>
  </form>

</div>
